name: Shadow Ripping Lab (Clean)

on:
  workflow_dispatch:
    inputs:
      code:
        description: 'Enter your PowerShell code here'
        required: true

jobs:
  shadow:
    name: Run Secure Lab
    runs-on: windows-latest
    timeout-minutes: 60

    steps:
    - name: üßº Print Safety Info
      run: |
        Write-Host "‚ö†Ô∏è You are running custom PowerShell code on a GitHub-hosted Windows VM."
        Write-Host "üõ°Ô∏è Ensure it is for testing, research, or automation ‚Äî not malicious activity."

    - name: ‚ñ∂Ô∏è Execute Custom PowerShell Code
      run: |
        $cmd = '${{ inputs.code }}'
        Invoke-Expression $cmd

    - name: ‚è≥ Keep Session Alive (Optional)
      run: |
        for ($i = 60; $i -gt 0; $i--) {
          Write-Host "Running... $i minutes remaining"
          Start-Sleep -Seconds 60
        }
